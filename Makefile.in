TARGETS = mousetrap/mousetrap.py


.PHONY: all
all: $(TARGETS)
	python setup.py build

.PHONY: install
install:
	python setup.py install --install-scripts=$(DESTDIR)$(PREFIX)/bin
	mv $(DESTDIR)$(PREFIX)/bin/mousetrap.py $(DESTDIR)$(PREFIX)/bin/mousetrap
	rm -rf dist/ mousetrap.egg-info/

.PHONY: aur_install
aur_install: $(TARGETS)
	mkdir -p $(DESTDIR)$(PREFIX)/bin
	install -Dm 755 mousetrap/mousetrap.py $(DESTDIR)$(PREFIX)/bin/mousetrap

.PHONY: uninstall
uninstall:
	rm -f $(DESTDIR)$(PREFIX)/bin/mousetrap
	pip uninstall mousetrap

.PHONY: dist
dist: distclean
	cd ../ && tar -vczf mousetrap.tar.gz mousetrap
	mv ../mousetrap.tar.gz .

.PHONY: clean
clean: distclean

.PHONY: distclean
distclean:
	rm -rf mousetrap.tar.gz Makefile build/ dist/ mousetrap.egg-info/
